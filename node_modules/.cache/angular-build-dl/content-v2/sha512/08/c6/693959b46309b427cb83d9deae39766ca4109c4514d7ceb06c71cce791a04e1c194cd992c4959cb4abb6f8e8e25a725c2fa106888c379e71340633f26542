{"version":3,"sources":["./src/app/pages/dashboard/dashboard.page.html","./src/app/pages/dashboard/dashboard-routing.module.ts","./src/app/pages/dashboard/dashboard.module.ts","./src/app/pages/dashboard/dashboard.page.scss","./src/app/pages/dashboard/dashboard.page.ts","./src/app/services/auth.service.ts","./src/app/services/env.service.ts"],"names":[],"mappings":"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","file":"pages-dashboard-dashboard-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>Dashboard</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <div *ngIf=\\\"user != undefined\\\">\\n      Welcome {{ user[\\\"first_name\\\"]  }} {{ user[\\\"last_name\\\"]  }}\\n  </div>\\n  <ion-row>\\n    <ion-col>\\n      <ion-card>\\n        <!-- <ion-card-header>\\n          <ion-card-subtitle>Card Subtitle</ion-card-subtitle>\\n          <ion-card-title>Crea </ion-card-title>\\n        </ion-card-header> -->\\n        <ion-card-content>\\n          <ion-button color=\\\"primary\\\" expand=\\\"block\\\" color=\\\"primary\\\" (click)=\\\"create()\\\">Nuevo Registro</ion-button>\\n        </ion-card-content>\\n      </ion-card>\\n    </ion-col>\\n    <ion-col>\\n      <ion-card>\\n        <!-- <ion-card-header>\\n          <ion-card-subtitle>Card Subtitle</ion-card-subtitle>\\n          <ion-card-title>Card Title</ion-card-title>\\n        </ion-card-header> -->\\n        <ion-card-content>\\n          <ion-button color=\\\"primary\\\" expand=\\\"block\\\" color=\\\"warning\\\" (click)=\\\"register()\\\">Ver Lista</ion-button>\\n        </ion-card-content>\\n      </ion-card>\\n    </ion-col>\\n  </ion-row>\\n\\n</ion-content>\\n<ion-tabs>\\n  <ion-tab-bar slot=\\\"bottom\\\">\\n    <ion-tab-button tab=\\\"schedule\\\">\\n      <ion-icon name=\\\"calendar\\\"></ion-icon>\\n      <ion-label>Schedule</ion-label>\\n      <ion-badge>6</ion-badge>\\n    </ion-tab-button>\\n\\n    <ion-tab-button tab=\\\"speakers\\\">\\n      <ion-icon name=\\\"person-circle\\\"></ion-icon>\\n      <ion-label>Ver Lista</ion-label>\\n    </ion-tab-button>\\n\\n    <ion-tab-button tab=\\\"add\\\" expand=\\\"full\\\" color=\\\"primary\\\" (click)=\\\"create()\\\">\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\n      <ion-label>Nuevo registro</ion-label>\\n    </ion-tab-button>\\n  </ion-tab-bar>\\n</ion-tabs>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DashboardPage } from './dashboard.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DashboardPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DashboardPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DashboardPageRoutingModule } from './dashboard-routing.module';\n\nimport { DashboardPage } from './dashboard.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    DashboardPageRoutingModule\n  ],\n  declarations: [DashboardPage]\n})\nexport class DashboardPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2Rhc2hib2FyZC9kYXNoYm9hcmQucGFnZS5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport { MenuController, NavController } from '@ionic/angular';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { User } from 'src/app/models/user';\n// import { UserPage } from '../user/user.page';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.page.html',\n  styleUrls: ['./dashboard.page.scss'],\n})\nexport class DashboardPage implements OnInit {\n\n  user: User;\n\n  constructor(\n    private menu: MenuController,\n    private authService: AuthService,\n    private navCtrl: NavController\n  ) { \n    this.menu.enable(true);\n   }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter() {\n    this.authService.user().subscribe(\n      user => {\n        this.user = user;\n      }\n    );\n  }\n\n  create() {\n     this.navCtrl.navigateForward('user');\n  }\n\n  listUSer(){\n    // this.navCtrl.navigateForward('');\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { tap } from 'rxjs/operators';\nimport { NativeStorage } from '@ionic-native/native-storage/ngx';\nimport { EnvService } from './env.service';\nimport { User } from '../models/user';\n// import { HTTP } from '@ionic-native/http/ngx';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n  isLoggedIn = false;\n  token:any;\n  constructor(\n    private http: HttpClient,\n    private storage: NativeStorage,\n    private env: EnvService,\n  ) { }\n  login(email: String, password: String) {\n    // const headers = new HttpHeaders();\n    // headers.append('Content-Type', 'application/json');\n    // const headers = new HttpHeaders({\n    //   \"Content-Type\": \"application/json\", \n    //   'Accept': 'application/json, text/plain',\n    //   \"cache-control\": \"no-cache\", \n    //   \"Access-Control-Allow-Origin\": \"*\", \n    //   \"Access-Control-Allow-Headers\": \"Origin, Content-Type, X-Auth-Token, Accept, Authorization, X-Request-With, Access-Control-Request-Method, Access-Control-Request-Headers\",\n    //   \"Access-Control-Allow-Credentials\" : \"true\",\n    //   \"Access-Control-Allow-Methods\" : \"GET, POST, DELETE, PUT, OPTIONS, TRACE, PATCH, CONNECT\",  \n    //   });\n    var headers = new HttpHeaders();\n    headers.append(\"Accept\", 'text/plain');\n    headers.append('Content-Type', 'text/plain; charset=utf-8');\n\n    const requestOptions = { headers: headers };\n\n    return this.http.post(this.env.API_URL + 'api/auth/login',\n      {email: email, password: password}, requestOptions\n    ).pipe(\n      tap(token => {\n        this.storage.setItem('token', token)\n        .then(\n          () => {\n            console.log('Token Stored');\n          },\n          error => console.error('Error storing item', error)\n        );\n        this.token = token;\n        this.isLoggedIn = true;\n        return token;\n      }),\n    );\n  }\n  register(fName: String, lName: String, email: String, password: String) {\n    return this.http.post(this.env.API_URL + 'api/auth/register',\n      {fName: fName, lName: lName, email: email, password: password},\n    )\n  }\n  logout() {\n    const headers = new HttpHeaders({\n      'Authorization': this.token[\"token_type\"]+\" \"+this.token[\"access_token\"]\n    });\n    return this.http.get(this.env.API_URL + 'api/auth/logout', { headers: headers },)\n    .pipe(\n      tap(data => {\n        this.storage.remove(\"token\");\n        this.isLoggedIn = false;\n        delete this.token;\n        return data;\n      })\n    )\n  }\n  user() {\n    const headers = new HttpHeaders({\n      'Authorization': this.token[\"token_type\"]+\" \"+this.token[\"access_token\"]\n    });\n    return this.http.get<User>(this.env.API_URL + 'api/auth/user', { headers: headers })\n    .pipe(\n      tap(user => {\n        return user;\n      })\n    )\n  }\n  getToken() {\n    return this.storage.getItem('token').then(\n      data => {\n        this.token = data;\n        if(this.token != null) {\n          this.isLoggedIn=true;\n        } else {\n          this.isLoggedIn=false;\n        }\n      },\n      error => {\n        this.token = null;\n        this.isLoggedIn=false;\n      }\n    );\n  }\n}","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EnvService {\n  API_URL = 'http://apiform.test/';\n  \n  constructor() { }\n}\n"],"sourceRoot":"webpack:///"}